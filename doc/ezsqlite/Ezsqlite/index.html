<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ezsqlite (ezsqlite.Ezsqlite)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">ezsqlite</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Ezsqlite</span></h1></header><div class="spec exception" id="exception-Sqlite_error"><a href="#exception-Sqlite_error" class="anchor"></a><div class="def exception"><code><span class="keyword">exception </span></code><code><span class="exception">Sqlite_error</span><span class="keyword"> of </span>string</code></div><div class="doc"></div></div><div class="spec module" id="module-Value"><a href="#module-Value" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Value/index.html">Value</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"><p>sqlite3 handle</p></div></div><div class="spec val" id="val-load"><a href="#val-load" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>load : string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Load database from file</p></div></div><div class="spec val" id="val-auto_extension"><a href="#val-auto_extension" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>auto_extension : (<a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-commit_hook"><a href="#val-commit_hook" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>commit_hook : (unit <span class="keyword">&#8209;&gt;</span> int) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-update_hook"><a href="#val-update_hook" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>update_hook : (int <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> int64 <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-create_function"><a href="#val-create_function" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>create_function : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> (<a href="Value/index.html#type-value">Value.value</a> array <span class="keyword">&#8209;&gt;</span> <a href="Value/index.html#type-value">Value.value</a>) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec type" id="type-stmt"><a href="#type-stmt" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>stmt</code><code></code><code></code></div><div class="doc"><p>sqlite3_stmt handle</p></div></div><div class="spec val" id="val-prepare"><a href="#val-prepare" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>prepare : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-stmt">stmt</a></code></div><div class="doc"><p>Prepare an SQL statement</p></div></div><div class="spec val" id="val-reset"><a href="#val-reset" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>reset : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Reset a statement -- this does not unbind bound values</p></div></div><div class="spec val" id="val-clear"><a href="#val-clear" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>clear : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Reset and clear bindings</p></div></div><div class="spec val" id="val-bind"><a href="#val-bind" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>bind : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="Value/index.html#type-value">Value.value</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-bind_dict"><a href="#val-bind_dict" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>bind_dict : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> (string<span class="keyword"> * </span><a href="Value/index.html#type-value">Value.value</a>) list <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-bind_list"><a href="#val-bind_list" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>bind_list : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> <a href="Value/index.html#type-value">Value.value</a> list <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-parameter_count"><a href="#val-parameter_count" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>parameter_count : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>Get the number of parameters</p></div></div><div class="spec val" id="val-parameter_index"><a href="#val-parameter_index" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>parameter_index : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>Get the index of a named parameter</p></div></div><div class="spec val" id="val-text"><a href="#val-text" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>text : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-blob"><a href="#val-blob" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>blob : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> Bytes.t</code></div><div class="doc"></div></div><div class="spec val" id="val-int64"><a href="#val-int64" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>int64 : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int64</code></div><div class="doc"></div></div><div class="spec val" id="val-int"><a href="#val-int" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>int : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"></div></div><div class="spec val" id="val-double"><a href="#val-double" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>double : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> float</code></div><div class="doc"></div></div><div class="spec val" id="val-column"><a href="#val-column" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>column : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="Value/index.html#type-value">Value.value</a></code></div><div class="doc"><p>Get a value by index</p></div></div><div class="spec val" id="val-exec"><a href="#val-exec" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>exec : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Execute a statement that returns no response</p></div></div><div class="spec val" id="val-step"><a href="#val-step" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>step : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-iter"><a href="#val-iter" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>iter : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> (<a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Iterate over each step</p></div></div><div class="spec val" id="val-map"><a href="#val-map" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> (<a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> list</code></div><div class="doc"><p>Iterate over each step returning a value each time</p></div></div><div class="spec val" id="val-fold"><a href="#val-fold" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fold : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> (<a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"><p>Fold a function over each step returning a single accumulated value</p></div></div><div class="spec val" id="val-run"><a href="#val-run" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>run : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> ?&#8288;bind:<a href="Value/index.html#type-value">Value.value</a> list <span class="keyword">&#8209;&gt;</span> (<a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> list</code></div><div class="doc"><p>Convert a string into a statement and execute it</p></div></div><div class="spec val" id="val-run_ign"><a href="#val-run_ign" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>run_ign : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> ?&#8288;bind:<a href="Value/index.html#type-value">Value.value</a> list <span class="keyword">&#8209;&gt;</span> unit <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-data"><a href="#val-data" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>data : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> <a href="Value/index.html#type-value">Value.value</a> array</code></div><div class="doc"><p>Get each column as an array</p></div></div><div class="spec val" id="val-dict"><a href="#val-dict" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>dict : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> (string<span class="keyword"> * </span><a href="Value/index.html#type-value">Value.value</a>) list</code></div><div class="doc"><p>Get each column as a list of tuples mapping from string to value</p></div></div><div class="spec val" id="val-column_type"><a href="#val-column_type" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>column_type : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="Value/index.html#type-kind">Value.kind</a></code></div><div class="doc"><p>Get a value's type by index</p></div></div><div class="spec val" id="val-data_count"><a href="#val-data_count" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>data_count : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>Get the number of columns with data</p></div></div><div class="spec val" id="val-database_name"><a href="#val-database_name" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>database_name : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p>Get the name of the database a statement is attached to</p></div></div><div class="spec val" id="val-table_name"><a href="#val-table_name" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>table_name : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p>Get the name of a table a statement is attached to</p></div></div><div class="spec val" id="val-origin_name"><a href="#val-origin_name" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>origin_name : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p>Get the name of a column a statement value is bound to</p></div></div><div class="spec val" id="val-column_name"><a href="#val-column_name" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>column_name : <a href="index.html#type-stmt">stmt</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-dump_sql"><a href="#val-dump_sql" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>dump_sql : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec module" id="module-Backup"><a href="#module-Backup" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Backup/index.html">Backup</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec module" id="module-Blob"><a href="#module-Blob" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Blob/index.html">Blob</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec module" id="module-Infix"><a href="#module-Infix" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Infix/index.html">Infix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div></body></html>